!function(t,s){"object"==typeof exports&&"undefined"!=typeof module?module.exports=s():"function"==typeof define&&define.amd?define(s):t["syg-audio-src"]=s()}(this,function(){"use strict";var t=function(){function t(t,s){for(var i=0;i<s.length;i++){var e=s[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(s,i,e){return i&&t(s.prototype,i),e&&t(s,e),s}}();return function(){function s(t){!function(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}(this,s),this.TYPE_HDS="hds",this.TYPE_HLS="hls",this.TYPE_MSE="mse",this.TYPE_FILE="file";this.opt=Object.assign({hds:{protcol:"http://",playlist:"/manifest.f4m"},hls:{protcol:"http://",playlist:"/playlist.m3u8"},mse:{protcol:"http://",playlist:"/manifest.mpd",autoplay:!1}},t),this.audio=new Audio,this.dash_player=null,this.is_support_hds=!1,this.is_support_hls=!1,this.is_support_mse=!1,this.now_type=null,this.$_check_support_result=null}return t(s,[{key:"check_support",value:function(){if(null!==this.$_check_support_result)return this.$_check_support_result;try{this.is_support_hds=function(t){return"maybe"===t.canPlayType("application/f4m+xml")}(this.audio),this.is_support_hls=function(t){return"maybe"===t.canPlayType("application/vnd.apple.mpegURL")}(this.audio),this.is_support_mse=function(){var t=null!==window.WebKitMediaSource&&void 0!==window.WebKitMediaSource,s=null!==window.MediaSource&&void 0!==window.MediaSource;return t||s}(this.audio)}catch(t){return this.$_check_support_result=!1,!1}return this.$_check_support_result=!0,!0}},{key:"set_src",value:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return s===this.TYPE_FILE?this.$_set_src_file(t):s===this.TYPE_HLS?this.$_set_src_hls(t):s===this.TYPE_HDS?this.$_set_src_hds(t):s===this.TYPE_MSE?this.$_set_src_mse(t):this.is_support_hls?this.$_set_src_hls(t):this.is_support_hds?this.$_set_src_hds(t):!!this.is_support_mse&&this.$_set_src_mse(t)}},{key:"$_set_src_file",value:function(t){return this.audio.src=t,this.now_type=this.TYPE_FILE,!0}},{key:"$_set_src_hls",value:function(t){return!!this.is_support_hls&&(this.audio.src=this.opt.hls.protcol+t+this.opt.hls.playlist,this.now_type=this.TYPE_HLS,!0)}},{key:"$_set_src_hds",value:function(t){return!!this.is_support_hds&&(this.audio.src=this.opt.hds.protcol+t+this.opt.hds.playlist,this.now_type=this.TYPE_HDS,!0)}},{key:"$_set_src_mse",value:function(t){if(!this.is_support_mse)return!1;this.now_type=this.TYPE_MSE;var s=this.opt.mse.protcol+t+this.opt.mse.playlist;return null===this.dash_player?(this.dash_player=dashjs.MediaPlayer().create(),this.dash_player.initialize(this.audio,s,this.opt.mse.autoplay)):this.dash_player.attachSource(s),!0}}]),s}()});
//# sourceMappingURL=audio-src.min.js.map

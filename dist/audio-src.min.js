!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t["syg-audio-src"]=e()}(this,function(){"use strict";function t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e(t,e){return t(e={exports:{}},e.exports),e.exports}var r=e(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),n=e(function(t){var e=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=e)}),i=(n.version,function(t,e,r){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}),o=function(t){return"object"==typeof t?null!==t:"function"==typeof t},s=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t},u=function(t){try{return!!t()}catch(t){return!0}},c=!u(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),a=r.document,l=o(a)&&o(a.createElement),f=!c&&!u(function(){return 7!=Object.defineProperty((t="div",l?a.createElement(t):{}),"a",{get:function(){return 7}}).a;var t}),p=Object.defineProperty,h={f:c?Object.defineProperty:function(t,e,r){if(s(t),e=function(t,e){if(!o(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!o(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!o(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!o(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}(e,!0),s(r),f)try{return p(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},_=c?function(t,e,r){return h.f(t,e,function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}(1,r))}:function(t,e,r){return t[e]=r,t},d=function(t,e,o){var s,u,c,a=t&d.F,l=t&d.G,f=t&d.S,p=t&d.P,h=t&d.B,y=t&d.W,v=l?n:n[e]||(n[e]={}),m=v.prototype,b=l?r:f?r[e]:(r[e]||{}).prototype;for(s in l&&(o=e),o)(u=!a&&b&&void 0!==b[s])&&s in v||(c=u?b[s]:o[s],v[s]=l&&"function"!=typeof b[s]?o[s]:h&&u?i(c,r):y&&b[s]==c?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):p&&"function"==typeof c?i(Function.call,c):c,p&&((v.virtual||(v.virtual={}))[s]=c,t&d.R&&m&&!m[s]&&_(m,s,c)))};d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128;var y,v,m=d,b={}.hasOwnProperty,w=function(t,e){return b.call(t,e)},E={}.toString,P=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==function(t){return E.call(t).slice(8,-1)}(t)?t.split(""):Object(t)},g=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},S=function(t){return P(g(t))},j=Math.ceil,O=Math.floor,M=function(t){return isNaN(t=+t)?0:(t>0?O:j)(t)},T=Math.min,k=Math.max,$=Math.min,Y=r["__core-js_shared__"]||(r["__core-js_shared__"]={}),x=0,F=Math.random(),L=Y[y="keys"]||(Y[y]={}),I=(v=!1,function(t,e,r){var n,i,o=S(t),s=(n=o.length)>0?T(M(n),9007199254740991):0,u=function(t,e){return(t=M(t))<0?k(t+e,0):$(t,e)}(r,s);if(v&&e!=e){for(;s>u;)if((i=o[u++])!=i)return!0}else for(;s>u;u++)if((v||u in o)&&o[u]===e)return v||u||0;return!v&&-1}),H=function(t){return L[t]||(L[t]=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++x+F).toString(36))}(t))}("IE_PROTO"),R="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),W=Object.keys||function(t){return function(t,e){var r,n=S(t),i=0,o=[];for(r in n)r!=H&&w(n,r)&&o.push(r);for(;e.length>i;)w(n,r=e[i++])&&(~I(o,r)||o.push(r));return o}(t,R)},C={f:Object.getOwnPropertySymbols},D={f:{}.propertyIsEnumerable},z=Object.assign,A=!z||u(function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(t){e[t]=t}),7!=z({},t)[r]||Object.keys(z({},e)).join("")!=n})?function(t,e){for(var r=Object(g(t)),n=arguments.length,i=1,o=C.f,s=D.f;n>i;)for(var u,c=P(arguments[i++]),a=o?W(c).concat(o(c)):W(c),l=a.length,f=0;l>f;)s.call(c,u=a[f++])&&(r[u]=c[u]);return r}:z;m(m.S+m.F,"Object",{assign:A});var B=n.Object.assign,G=t(e(function(t){t.exports={default:B,__esModule:!0}})),K=t(e(function(t,e){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}}));m(m.S+m.F*!c,"Object",{defineProperty:h.f});var N=n.Object,U=function(t,e,r){return N.defineProperty(t,e,r)},q=e(function(t){t.exports={default:U,__esModule:!0}});t(q);var J=t(e(function(t,e){e.__esModule=!0;var r,n=(r=q)&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,n.default)(t,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}()}));return function(){function t(e){K(this,t),this.TYPE_HDS="hds",this.TYPE_HLS="hls",this.TYPE_MSE="mse",this.TYPE_FILE="file";this.opt=G({hds:{protcol:"http://",playlist:"/manifest.f4m"},hls:{protcol:"http://",playlist:"/playlist.m3u8"},mse:{protcol:"http://",playlist:"/manifest.mpd",autoplay:!1}},e),this.audio=new Audio,this.dash_player=null,this.is_support_hds=!1,this.is_support_hls=!1,this.is_support_mse=!1,this.now_type=null,this.$_check_support_result=null}return J(t,[{key:"check_support",value:function(){if(null!==this.$_check_support_result)return this.$_check_support_result;try{this.is_support_hds="maybe"===this.audio.canPlayType("application/f4m+xml"),this.is_support_hls=function(t){return"maybe"===t.canPlayType("application/vnd.apple.mpegURL")}(this.audio),this.is_support_mse=(this.audio,t=null!==window.WebKitMediaSource&&void 0!==window.WebKitMediaSource,e=null!==window.MediaSource&&void 0!==window.MediaSource,t||e)}catch(t){return this.$_check_support_result=!1,!1}var t,e;return this.$_check_support_result=!0,!0}},{key:"set_src",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e===this.TYPE_FILE?this.$_set_src_file(t):e===this.TYPE_HLS?this.$_set_src_hls(t):e===this.TYPE_HDS?this.$_set_src_hds(t):e===this.TYPE_MSE?this.$_set_src_mse(t):this.is_support_hls?this.$_set_src_hls(t):this.is_support_hds?this.$_set_src_hds(t):!!this.is_support_mse&&this.$_set_src_mse(t)}},{key:"$_set_src_file",value:function(t){return this.audio.src=t,this.now_type=this.TYPE_FILE,!0}},{key:"$_set_src_hls",value:function(t){return!!this.is_support_hls&&(this.audio.src=this.opt.hls.protcol+t+this.opt.hls.playlist,this.now_type=this.TYPE_HLS,!0)}},{key:"$_set_src_hds",value:function(t){return!!this.is_support_hds&&(this.audio.src=this.opt.hds.protcol+t+this.opt.hds.playlist,this.now_type=this.TYPE_HDS,!0)}},{key:"$_set_src_mse",value:function(t){if(!this.is_support_mse)return!1;this.now_type=this.TYPE_MSE;var e=this.opt.mse.protcol+t+this.opt.mse.playlist;return null===this.dash_player?(this.dash_player=dashjs.MediaPlayer().create(),this.dash_player.initialize(this.audio,e,this.opt.mse.autoplay)):this.dash_player.attachSource(e),!0}}]),t}()});
//# sourceMappingURL=audio-src.min.js.map
